---
marp: true
theme: custom-floral
size: 16:9
---
# 知っておきたい！CSS設計の基本

～よりよいコーディングライフのために～
<!--
_class: lead top
_header: ""
_footer: "by **@nSeino-coder**"
-->

---
# :one: はじめに
<!--
_class: lead
_header: ""
-->

---
## 今回話すこと
<!--
header: "CSS設計について/1.はじめに"
-->

---
## 今回話すこと
:book: **CSS設計完全ガイド　～詳細解説＋実践的モジュール集**
の内容を、以下の要点にまとめつつ紹介します。

---
## 今回話すこと
:book: **CSS設計完全ガイド　～詳細解説＋実践的モジュール集**
の内容を、以下の要点にまとめつつ紹介します。
- CSS設計がなぜ必要なのか
- CSS設計とはなんなのか
- 有名な設計手法について

---
## 今回話すこと
:book: **CSS設計完全ガイド　～詳細解説＋実践的モジュール集**
の内容を、以下の要点にまとめつつ紹介します。
- CSS設計がなぜ必要なのか
- CSS設計とはなんなのか
- 有名な設計手法について

また、書籍付属のコードサンプルを参考に、
設計手法ごとにHTML/CSSを書いてみました。
<!-- speaker note
書籍の概要はこちらです。↓
-->

---
## 書籍について:book:

### CSS設計完全ガイド　～詳細解説＋実践的モジュール集
![book](img/book.png)
- 
- 2020年2月27日紙版発売
- [書籍概要](https://gihyo.jp/book/2020/978-4-297-11173-1)
- [コードサンプル](https://css-architecture-perfect.guide/)

---
## 目次
1. はじめに　**←ｲﾏｺｺ**
2. CSS設計の必要性<!-- なぜ必要なのか -->
3. CSS設計の考え方<!-- CSS設計とはなんなのか -->
4. 設計手法3選<!-- 紹介 -->
5. さいごに
6. おまけ

---
# :two: CSS設計の必要性
<!--
_class: lead
_header: ""
-->

---
## こんな経験ありませんか？
<!--
header: "CSS設計について/2.CSS設計の必要性"
-->

---
## こんな経験ありませんか？
- ほぼ同じデザインなのにあっちもこっちも修正しないといけない
- CSSを修正したら意図していないパーツも変わってしまった
- どこに適用されているのか分からない謎のスタイルが存在する
- セレクタの詳細度や`!important`を使用した上書き合戦が起こる
- どんなクラス名をつけるべきか悩んでいたら夜が明けた

などなど…

---
## なぜこんなことが起こるのか
<!-- //speaker note
本書では以下が挙げられています。
-->
---
## なぜこんなことが起こるのか
- ❝貧弱❞なCSSの問題
  - ページ数が増えるほど「カオス」な状態になる
  - すべてがグローバルスコープであるため、互いに干渉しやすい

- 複雑化するWeb開発
  - CMSなどで出力される変更不可能なHTML/CSS
  - 増加するページ数
  - 頻繁に変更される「状態」
<!-- //speaker note
なんの規則もなしに複数ページを書くとなると、CSSを編集したり追加してどこに影響するのか、見つけるのが難しくなる。
制作時はなんとかなっても、Webサイトには運用があります。カオスになったCSSを、数ヶ月後の自分、もしくは他の人が読み解いて、想定外の影響がないよう運用するのはとても骨が折れる作業です。

厳密なルールがなく誰でも簡単に扱えるがゆえに、人数が増えるほど、規模が大きくなるほど複雑になってしまう。
-->

---
## ↓↓↓
## CSS設計しよう！
<!--
_class: lead sub
-->
<!-- //speaker note
とはいえ…
-->

---
## 個人でCSSを設計するのは難しい！

---
## 個人でCSSを設計するのは難しい！
- 規則をきちんと整理できていないと、
  1人で開発するときですら記述がブレる

- ドキュメント化されていないと、
  他者と作業するときに記述がブレる

- 考えが甘すぎて、そもそも規則として機能していない
<!-- //speaker note
誰もルールを覚えていない、なにが正しいかわからない。
想定していなかった追加修正が入ってルールが破綻する、など。
-->

---
## 先人たちのおかげで生まれた❝CSS設計手法❞
- 2011年頃にNicolleSullivan氏が「**OOCSS**」を提唱し始めた
  ことがきっかけ

- その後「**BEM**」や「**SMACSS**」などのCSS設計手法が
  世界各国で開発され、広く使用された
<!-- //speaker note
ニコール・サリヴァン氏
-->

---
# :three: CSS設計の考え方
<!--
_class: lead
_header: ""
-->

---
## CSS設計の根本的な考え方
<!--
header: "CSS設計について/3.CSS設計の考え方"
-->
<!-- //speaker note
様々な設計手法が出てくるわけですが、どのCSS設計にも共通している考え方が2点あります。
-->

---
## CSS設計の根本的な考え方
- **抽象化すること**
  - 異なるスタイル間で共通するものは？
  - 共通する部分を切り出せないか？　などを考える

---
## CSS設計の根本的な考え方
- **抽象化すること**
  - 異なるスタイル間で共通するものは？
  - 共通する部分を切り出せないか？　などを考える

- **分けること**
  - ファイルを分ける
  - パーツの大きさで分ける
  - 役割に応じて名前を分ける
<!-- //speaker note
デザインをよく見て、考えて、CSSに落とし込んでいくことが大事。
じゃあ実際にどうCSSを書いていけばいいのか？→CSS設計手法（ルール）

その前に、「よいCSS」とはなんでしょうか。
-->

---
## そもそも、よいCSSとは？
<!-- //speaker note
有名な4つの項目がある。知ってる人いますか？？
-->

---
## そもそも、よいCSSとは？
### よいCSS設計が目指す4つのゴール
GoogleのエンジニアPhilip Walton氏のブログ
「[CSS Architecture](https://philipwalton.com/articles/css-architecture/)」で提唱されている考え方。
<!-- //speaker note
フィリップ・ワトソン氏
-->

---
## そもそも、よいCSSとは？
### よいCSS設計が目指す4つのゴール
GoogleのエンジニアPhilip Walton氏のブログ
「[CSS Architecture](https://philipwalton.com/articles/css-architecture/)」で提唱されている考え方。
- **予測できる**
- **再利用できる**
- **拡張できる**
- **保守できる**

---
- **予測できる（Predictable）**
  スタイリングの動きや影響範囲が予測できる状態。

- **再利用できる（Reusable）**
  パーツを別の箇所で利用したとき、
  コードを修正する手間がない状態。

- **拡張できる（Scalable）**
  追加・更新・配置換えをしたとき、
  既存のCSSをリファクタリングする必要がない状態。

- **保守できる（Maintainable）**
  CSSに携わる人が複数人であっても、問題なく管理できる状態。

---
## ↓↓↓
## どうやって実現させればいいの？？
<!--
_class: lead sub
-->
<!-- //speaker note
なんの指標もなしに工夫するのは大変！
上記の4つのゴールを実現するために本書では8つのルールがあげられています。
-->

---
## CSS設計に共通する8つのポイント

1. 特性に応じてCSSを分類する
2. コンテンツとスタイリングが疎結合である
3. 影響範囲がみだりに広すぎない
4. 特定のコンテキストにみだりに依存していない
5. 詳細度がみだりに高くない
6. クラス名から影響範囲が想像できる
7. クラス名から見た目・機能・役割が想像できる
8. 拡張しやすい
<!-- //speaker note
設計手法の紹介とともに、どのルールに該当するのかが提示されていてわかりやすいです。
-->

---
# :four: 設計手法3選
<!--
_class: lead
_header: ""
-->

---
## 有名な3つの設計手法
- OOCSS
  - [http://oocss.org/](http://oocss.org/)

- SMACSS
  - [http://smacss.com/ja](http://smacss.com/ja)

- BEM
  - [https://en.bem.info/](https://en.bem.info/)
<!--
header: "CSS設計について/4.設計手法3選"
-->
<!-- //speaker note
紹介する設計手法と、その公式ドキュメント一覧。
それぞれの特徴をざっくり紹介します。
-->

---
## OOCSS（Object-Oriented CSS）
- **提唱された発想**
  - レゴのように組み合わせ自由なモジュールの集まりを作ろう
  - そのモジュールの組み合わせでページを作成しよう
  - 新規ページを作るときも、基本的に追加のCSSは必要ない

- **原則**
  - ストラクチャーとスキンの分離
  - コンテナとコンテンツの分離
<!-- //speaker note
日本語訳：オブジェクト指向CSS
解説はかなり簡素で、明確に規則と呼べるものも多くない。
他の設計手法も、基本的にOOCSSを参考にしつつ改良が加えられたもの。CSS設計の基礎中の基礎であると本書では言っている。
-->

---
### ストラクチャー（構造）とスキン（見た目）の分離
- ストラクチャー： `width`/`height`/`padding`/`margin` など
- スキン： `color`/`font`/`background`/`box-shadow` など

### コンテナとコンテンツの分離
- コンテナ： ヘッダー・セクションなど（エリア）
- コンテンツ： カードやボタンモジュールなど
<!-- //speaker note
モジュールをなるべく特定のエリアに依存させない！
-->

---
## SMACSS（Scalable and Modular Architecture for CSS）
- CSSを5つのカテゴリに分類して管理
  - **Base** … 要素そのもののデフォルトスタイル
  - **Layout** … ページをエリアごとに分割
  - **Module** … 再利用可能なパーツ
  - **State** … レイアウトやモジュールの特定の状態を示す
  - **Theme** … サイトのルック＆フィールを定義
<!-- //speaker note
日本語訳：拡張可能かつモジュール的なCSS設計。
OOCSSがほぼモジュールのみにしか言及していないのに対し、SMACSSはベースやレイアウトの扱い方にまで言及している。
-->

---
## BEM
- **Block** … 論理的かつ機能的に独立したモジュール
  ※レイアウトに関するスタイリング
  （position/float/marginなど）をしてはいけない。

- **Element** … Blockの子要素
  ※Blockの外では独立して使用できない

- **Modifier** … BlockやElementの装飾や動作のパターン

- 詳細度を均一に保つため、要素・IDセレクタは推奨されない
<!-- //speaker note
OOCSSのようにモジュールをベースにした方法論であるものの、他の設計手法に比べて厳格・強力。
Blockは特定のコンテキストに依存していない、どこでも使い回せるパーツ。基本的に、レイアウトに関するスタイリング（position/float/marginなど）をしてはいけない。
-->

---
## 他にも…
- PRECSS
- MCSS
- FLOCSS 　など

---
## 各設計手法で書いてみた
- OOCSS
  https://codepen.io/sena319/pen/JjrzxdV

- SMACSS
  https://codepen.io/sena319/pen/LYzaqYK

- BEM
  https://codepen.io/sena319/pen/xxXBGxN

---
## 書いてみた感想

---
## 書いてみた感想
- **OOCSS**
  - いちから書くより [Bootstrap](https://getbootstrap.com/) 使ったほうが早い
  - 完成すれば運用は楽そう
<!-- //speaker note
構造と見た目を分けるのが難しい！
-->

---
## 書いてみた感想
- **OOCSS**
  - いちから書くより [Bootstrap](https://getbootstrap.com/) 使ったほうが早い
  - 完成すれば運用は楽そう

- **SMACSS**
  - OOCSSをより分割したような設計になった
  - モジュールの内容が多くなりがち
<!-- //speaker note
命名規則自体はふわっとしているっぽい。
-->

---
## 書いてみた感想
- **OOCSS**
  - いちから書くより [Bootstrap](https://getbootstrap.com/) 使ったほうが早い
  - 完成すれば運用は楽そう

- **SMACSS**
  - OOCSSをより分割したような設計になった
  - モジュールの内容が多くなりがち

- **BEM**
  - Sassとの相性良すぎ
  - Block単位で考えればいいのでサクサク書ける
<!-- //speaker note
慣れもあると思うが、一番効率的に書けたと思う。
クラス名を考えるのは前の2つに比べて大変かも。
-->

---
# :five: さいごに
<!--
_class: lead
_header: ""
-->

---
## 冒頭の困った経験は解決するの？
- ほぼ同じデザインなのにあっちもこっちも修正しないといけない
- CSSを修正したら意図していないパーツも変わってしまった
- どこに適用されているのか分からない謎のスタイルが存在する
- セレクタの詳細度や`!important`を使用した上書き合戦が起こる
- どんなクラス名をつけるべきか悩んでいたら夜が明けた
<!--
header: "CSS設計について/5.さいごに"
-->

---
- ほぼ同じデザインなのにあっちもこっちも修正しないといけない
<!--
_class: lead sub
-->

---
- ほぼ同じデザインなのにあっちもこっちも修正しないといけない

↓

特性に応じてCSSを分類することで、
共通するスタイルの管理が楽になった！
<!--
_class: lead sub
-->

---
- CSSを修正したら意図していないパーツも変わってしまった
- どこに適用されているのか分からない謎のスタイルが存在する
<!--
_class: lead sub
-->

---
- CSSを修正したら意図していないパーツも変わってしまった
- どこに適用されているのか分からない謎のスタイルが存在する

↓

影響範囲・見た目・機能・役割を考えたクラス名をつけることで、
どこに適用されるスタイルかわかりやすくなった！
<!--
_class: lead sub
-->

---
- セレクタの詳細度や`!important`を使用した上書き合戦が起こる
<!--
_class: lead sub
-->

---
- セレクタの詳細度や`!important`を使用した上書き合戦が起こる

↓

ルールに沿ったセレクタ指定をすることで、
無駄な上書きが必要なくなった！
<!--
_class: lead sub
-->

---
- どんなクラス名をつけるべきか悩んでいたら夜が明けた
<!--
_class: lead sub
-->

---
- どんなクラス名をつけるべきか悩んでいたら夜が明けた

↓

設計手法の命名規則を理解して利用することで、
クラス名に悩む時間が減った！
<!--
_class: lead sub
-->

---
## CSS設計って大事！
<!--
_class: lead sub
-->
<!-- //speaker note
本書を読み直してまとめてみて、改めてCSS設計って大事だなと実感したので、
少しでも伝わればうれしいです。
-->

---
## CSS設計って大事！
まずは「抽象化する」「分ける」ことから始めよう
<!--
_class: lead sub
-->
<!-- //speaker note
いきなりCSS設計手法を取り入れてみたりするのは大変なので、
まずはデザインをよく見て、「抽象化する」「分ける」ことを意識してみてください。

開発環境（CSS in JSとか、Web Compornentsとか）によってはCSSファイル自体がいらなかったり、
NoCodeツールでCSSを書かなくなってしまっても、
「UIをどう部品化するか」という考え方はコードを書くうえで必要なはず。
-->

---
# :six: おまけ
<!--
_class: lead
_header: ""
-->
<!-- //speaker note
さいごのさいごに、今回のスライドについて紹介します。
-->

---
## 今回のスライドについて

VSCodeの拡張機能[Marp for VS Code](https://marketplace.visualstudio.com/items?itemName=marp-team.marp-vscode)を使って、
Markdownで書きました！
マウス操作なしでサクサク便利:smile::pray::sparkles:

---
- コードについて
  - [GitHub リポジトリ](https://github.com/nSeino-coder/mtg_2022_01_18)
  - [実際のコード（slide.md）](https://github.com/nSeino-coder/mtg_2022_01_18/blob/master/slide.md?plain=1)
<!-- //speaker note
GitHub Pagesを利用するため、公開リポジトリにしています。公開してまずいことは書いてないはず…
-->

- 参考記事
  - [【VS Code + Marp】Markdownから爆速・自由自在なデザインで、プレゼンスライドを作る](https://qiita.com/tomo_makes/items/aafae4021986553ae1d8)
  - [【Marp】スライドをさっと作成して、CSSで自由にスタイルをあてたい](https://techblog.istyle.co.jp/archives/6356)

- お借りした背景素材：[Floral Drawings Slides](https://www.slidescarnival.com/ceres-free-presentation-template/1766)

---
# ご清聴ありがとうございました:bow:
よいコーディングライフを！
<!--
_class: lead top
_header: ""
-->
